(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(360)},359:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),o=a(6),u=a(44),i=a(63),l=a(162),s=a(22),E=a(15),d=a(86),f=a.n(d),m={users:[],total:0,loading:!1,error:!1},p=(n={},Object(s.a)(n,"FETCH_USERS_REQUEST",function(e){return Object(E.a)({},e,{loading:!0,error:!1})}),Object(s.a)(n,"FETCH_USERS_SUCCESS",function(e,t){var a=t.users;return Object(E.a)({},e,{users:a.map(function(e){return Object(E.a)({},e,{key:f()()})}),loading:!1,error:!1})}),Object(s.a)(n,"FETCH_USERS_FAILURE",function(e){return Object(E.a)({},e,{loading:!1,error:!0})}),Object(s.a)(n,"GET_TOTAL_REQUEST",function(e){return Object(E.a)({},e,{loading:!0,error:!1})}),Object(s.a)(n,"GET_TOTAL_SUCCESS",function(e,t){var a=t.total;return Object(E.a)({},e,{total:a,loading:!1,error:!1})}),Object(s.a)(n,"GET_TOTAL_FAILURE",function(e){return Object(E.a)({},e,{loading:!1,error:!0})}),Object(s.a)(n,"ADD_NEW_USER_REQUEST",function(e){return Object(E.a)({},e,{loading:!0,error:!1})}),Object(s.a)(n,"ADD_NEW_USER_SUCCESS",function(e){return Object(E.a)({},e,{loading:!1,error:!1})}),Object(s.a)(n,"ADD_NEW_USER_FAILURE",function(e){return Object(E.a)({},e,{loading:!1,error:!0})}),Object(s.a)(n,"UPDATE_USER_REQUEST",function(e){return Object(E.a)({},e,{loading:!0,error:!1})}),Object(s.a)(n,"UPDATE_USER_SUCCESS",function(e){return Object(E.a)({},e,{loading:!1,error:!1})}),Object(s.a)(n,"UPDATE_USER_FAILURE",function(e){return Object(E.a)({},e,{loading:!1,error:!0})}),Object(s.a)(n,"DELETE_USER_REQUEST",function(e){return Object(E.a)({},e,{loading:!0,error:!1})}),Object(s.a)(n,"DELETE_USER_SUCCESS",function(e){return Object(E.a)({},e,{loading:!1,error:!1})}),Object(s.a)(n,"DELETE_USER_FAILURE",function(e){return Object(E.a)({},e,{loading:!1,error:!0})}),n),b=Object(i.d)(Object(i.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return p[t.type]?p[t.type](e,t):e}}),Object(i.a)(l.a)),S=a(163),U=a(54),_=a(366),g=a(24),O=a(9),j=a(361),C=a(362),F=a(363),h=a(365),T=a(33),R=a.n(T),y=a(66),A=a(67),D=a.n(A),v=a(364),w=a(39),B=(a(133),v.a.create()(function(e){var t=e.form,a=e.addNewUser,n=e._getSubmitBtnRef,r=e._toggleModal,o=e._getData,u=t.getFieldDecorator,i={labelCol:{span:6},wrapperCol:{span:14}};return c.a.createElement(v.a,Object.assign({},i,{onSubmit:function(e){e.preventDefault(),t.validateFields(function(e,t){e||(t.key=f()(),a(t).then(function(){r(),o(),w.a.success("New User is Added!")}).catch(function(e){return w.a.error(e)}))})}}),c.a.createElement(v.a.Item,Object.assign({},i,{label:"Name"}),u("name",{rules:[{required:!0,message:"Please input your name",type:"string"}]})(c.a.createElement(_.a,null))),c.a.createElement(v.a.Item,Object.assign({},i,{label:"Email"}),u("email",{rules:[{required:!0,message:"Please input valid email",type:"email"}]})(c.a.createElement(_.a,null))),c.a.createElement(v.a.Item,Object.assign({},i,{label:"Password"}),u("password",{rules:[{required:!0,message:"Please input your password"}]})(c.a.createElement(_.a.Password,null))),c.a.createElement(g.a,{htmlType:"submit",className:"hidden",ref:function(e){return n(e)}}))})),k={addNewUser:function(e){return function(){var t=Object(y.a)(R.a.mark(function t(a){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_NEW_USER_REQUEST"}),t.next=3,D.a.post("https://api.backendless.com/53FB6874-BEE0-9546-FFCA-1F3DEE56BE00/73E38E38-C5C9-45B2-FFB5-D05A6E16A600/data/Users",Object(E.a)({},e),{headers:{"Content-Type":"application/json"}}).then(function(){a({type:"ADD_NEW_USER_SUCCESS"})}).catch(function(){a({type:"ADD_NEW_USER_FAILURE"})});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},N=Object(u.b)(null,k)(B),L=v.a.create({mapPropsToFields:function(e){var t=e.record,a=t.name,n=t.email;return{name:v.a.createFormField(Object(E.a)({},a,{value:a})),email:v.a.createFormField(Object(E.a)({},n,{value:n}))}}})(function(e){var t=e.form,a=e.updateUser,n=e._getUpdateBtnRef,r=e._getData,o=e._toggleModal,u=e.record,i=t.getFieldDecorator,l={labelCol:{span:6},wrapperCol:{span:14}};return c.a.createElement(v.a,Object.assign({},l,{onSubmit:function(e){e.preventDefault(),t.validateFields(function(e,t){if(!e){var n=Object(E.a)({},u,t);a(n).then(function(){o(),r(),w.a.success("User is Updated!")}).catch(function(e){return w.a.error(e)})}})}}),c.a.createElement(v.a.Item,Object.assign({},l,{label:"Name"}),i("name",{rules:[{required:!0,message:"Please input your name",type:"string"}]})(c.a.createElement(_.a,null))),c.a.createElement(v.a.Item,Object.assign({},l,{label:"Email"}),i("email",{rules:[{required:!0,message:"Please input valid email",type:"email"}]})(c.a.createElement(_.a,null))),c.a.createElement(v.a.Item,Object.assign({},l,{label:"Password"}),i("password",{rules:[{required:!0,message:"Please input your password"}]})(c.a.createElement(_.a.Password,null))),c.a.createElement(g.a,{htmlType:"submit",className:"hidden",ref:function(e){return n(e)}}))}),I=function(e){var t=e.record,a=e.updateUser,n=e._getUpdateBtnRef,r=e._getData,o=e._toggleModal;return c.a.createElement(L,{record:t,updateUser:a,_getUpdateBtnRef:n,_getData:r,_toggleModal:o})},P={updateUser:function(e){return function(){var t=Object(y.a)(R.a.mark(function t(a){var n,r,c,o;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_USER_REQUEST"}),n=e.name,r=e.email,c=e.password,o=e.objectId,t.next=4,D.a.put("https://api.backendless.com/53FB6874-BEE0-9546-FFCA-1F3DEE56BE00/73E38E38-C5C9-45B2-FFB5-D05A6E16A600/data/Users/".concat(o),{name:n,email:r,password:c},{headers:{"Content-Type":"application/json"}}).then(function(){a({type:"UPDATE_USER_SUCCESS"})}).catch(function(){a({type:"UPDATE_USER_FAILURE"})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},x=Object(u.b)(null,P)(I),Q=function(e){var t=e.users,a=e.deleteUser,n=e.fetchUsers,o=e.getTotal,u=e.total,i=e.loading,l=Object(r.useState)(!1),s=Object(U.a)(l,2),d=s[0],f=s[1],m=Object(r.useState)(!1),p=Object(U.a)(m,2),b=p[0],S=p[1],T=Object(r.useState)({}),R=Object(U.a)(T,2),y=R[0],A=R[1],D=Object(r.useState)({}),v=Object(U.a)(D,2),B=v[0],k=v[1],L=Object(r.useState)({}),I=Object(U.a)(L,2),P=I[0],Q=I[1],H=Object(r.useState)({}),q=Object(U.a)(H,2),G=q[0],M=q[1],W=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,o=t.clearFilters;return c.a.createElement("div",{className:"search-input-container"},c.a.createElement(_.a,{ref:function(e){return Q(e)},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r()},className:"search-input"}),c.a.createElement(g.a,{type:"primary",onClick:function(){return r()},icon:"search",size:"small",className:"search-input-confirm-btn"},"Search"),c.a.createElement(g.a,{onClick:function(){return o()},size:"small",className:"search-input-reset-btn"},"Reset"))},filterIcon:function(e){return c.a.createElement(O.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return P.select()})}}},z=[Object(E.a)({title:"Name",dataIndex:"name"},W("name")),Object(E.a)({title:"Email",dataIndex:"email"},W("email")),{title:"Actions",render:function(e,t){return c.a.createElement("span",null,c.a.createElement(g.a,{onClick:function(){M(t),S(!0),J()}},"Edit"),c.a.createElement(j.a,{type:"vertical"}),c.a.createElement(C.a,{title:"Are you sure delete this user?",onConfirm:function(){return V(t)},okText:"Yes",cancelText:"No"},c.a.createElement(g.a,{type:"danger"},"Del")))}}],J=function(){return f(!d)},K=function(){o().then(function(){return n()}).catch(function(e){return w.a.error(e)})},V=function(e){a(e.objectId).then(function(){w.a.success("User was successfully Deleted!"),K()}).catch(function(e){return w.a.error(e)})};return Object(r.useEffect)(function(){K()},[]),c.a.createElement("div",{className:"table"},c.a.createElement(F.a,{columns:z,dataSource:t,loading:i,pagination:{total:u,pageSize:4}}),c.a.createElement(g.a,{className:"flexed-centered",onClick:function(){S(!1),J()}},"Add New User"),c.a.createElement(h.a,{title:b?"Edit User":"Add User",visible:d,onCancel:J,footer:[c.a.createElement(g.a,{key:"back",onClick:J},"Cancel"),c.a.createElement(g.a,{key:"submit",type:"primary",loading:i,onClick:b?function(){return B.buttonNode.click()}:function(){return y.buttonNode.click()}},b?"Update":"Submit")]},b?c.a.createElement(x,{_getUpdateBtnRef:function(e){return k(e)},_toggleModal:J,_getData:K,record:G}):c.a.createElement(N,{_getSubmitBtnRef:function(e){return A(e)},_toggleModal:J,_getData:K})))},H={deleteUser:function(e){return function(){var t=Object(y.a)(R.a.mark(function t(a){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"DELETE_USER_REQUEST"}),t.next=3,D.a.delete("https://api.backendless.com/53FB6874-BEE0-9546-FFCA-1F3DEE56BE00/73E38E38-C5C9-45B2-FFB5-D05A6E16A600/data/Users/".concat(e)).then(function(){a({type:"DELETE_USER_SUCCESS"})}).catch(function(){a({type:"DELETE_USER_FAILURE"})});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchUsers:function(){return function(){var e=Object(y.a)(R.a.mark(function e(t,a){var n,r,c;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USERS_REQUEST"}),n=a(),r=n.users.total,c=r,e.next=4,D.a.get("https://api.backendless.com/53FB6874-BEE0-9546-FFCA-1F3DEE56BE00/73E38E38-C5C9-45B2-FFB5-D05A6E16A600/data/Users",{params:{pageSize:c}}).then(function(e){t({type:"FETCH_USERS_SUCCESS",users:e.data})}).catch(function(){t({type:"FETCH_USERS_FAILURE"})});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},getTotal:function(){return function(){var e=Object(y.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_TOTAL_REQUEST"}),e.next=3,D.a.get("https://api.backendless.com/53FB6874-BEE0-9546-FFCA-1F3DEE56BE00/73E38E38-C5C9-45B2-FFB5-D05A6E16A600/data/Users/count").then(function(e){t({type:"GET_TOTAL_SUCCESS",total:e.data})}).catch(function(){t({type:"GET_TOTAL_FAILURE"})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},q=Object(u.b)(function(e){var t=e.users;return{users:t.users,total:t.total,loading:t.loading}},H)(Q),G=function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement(q,null))},M=(a(359),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(S.Helmet,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,"PERX")),c.a.createElement(G,null))});Object(o.render)(c.a.createElement(u.a,{store:b},c.a.createElement(M,null)),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.1814ab8d.chunk.js.map